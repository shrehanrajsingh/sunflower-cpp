import 'socket' as s
import 'thread' as thread

b = s.BroadcastSocket ('255.255.255.255', 50000)

r = s.DGramSocket ('0.0.0.0', 50000)
r.bind ()

fun emit (sock)
    while 1
        sock.send ('hello\n')
        sleep (2000)

fun rec (sock)
    while 1
        write (sock.receive (5))
        sleep (1500)

et = thread (emit, [b])
et.run ()

rt = thread (rec, [r])
rt.run ()

thread.join_all ()