import '../../lib/thread/_init.sf' as thread

fun test (a)
    write (a)

while 1
    a = []
    for i in 1 to 10
        a.push (thread (test, [1]))
        a[-1].run ()
    
    thread.join_all ()